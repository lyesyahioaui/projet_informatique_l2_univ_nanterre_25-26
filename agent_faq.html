{% extends "accueil.html" %}

{% block content %}
<div class="agent-container">
    <h1>ü§ñ Agent IA ‚Äì Questions sur l'association</h1>
    
    <div class="agent-info">
        <p><strong>Bienvenue sur l'agent IA de l'association !</strong></p>
        <p>Pose une question en fran√ßais sur :</p>
        <ul>
            <li>Les sorties et comment t'y inscrire</li>
            <li>La cotisation et les paiements</li>
            <li>Les esp√®ces et la recherche invers√©e</li>
            <li>Les nichoirs et les observations</li>
            <li>Ton espace adh√©rent</li>
            <li>L'association en g√©n√©ral</li>
        </ul>
    </div>

    <form method="post" class="agent-form">
        <div class="form-group">
            <label for="question">Pose ta question :</label>
            <textarea 
                id="question" 
                name="question" 
                rows="4"
                placeholder="Exemple : comment m'inscrire √† une sortie ? combien co√ªte la cotisation ?"
                required>
            </textarea>
        </div>
        
        <button type="submit" class="btn-agent">‚ùì Demander √† l'agent</button>
    </form>

    {% if question %}
        <div class="user-question">
            <p><strong>Ta question :</strong></p>
            <p>{{ question }}</p>
        </div>
    {% endif %}

    {% if reponse %}
        <div class="agent-response">
            <h2>üí° R√©ponse de l'agent</h2>
            <p>{{ reponse }}</p>
        </div>
    {% endif %}

    {% if question and not reponse %}
        <div class="agent-error">
            <p><strong>‚ö†Ô∏è Aucune r√©ponse trouv√©e.</strong> Essaie de reformuler ta question ou consulte les menus du site.</p>
        </div>
    {% endif %}
</div>
<script>
    function fillSuggestion(text) {
        const textarea = document.getElementById('question');
        textarea.value = text;
        textarea.focus();
    }
</script>

{% endblock %}
